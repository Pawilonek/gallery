<div data-ng-include data-src="'partials/partials/header.html'"></div>

<article class="container">

<style type="text/css">
    .drop-zone {
        border: dotted 2px lightgray;
        text-align: center;
    }

    .nv-file-over {
        border: dotted 2px red;
    }

    #images {
        display: none;
    }
</style>
<div data-ng-init="init()"></div>
<div class="col-md-6" data-ng-controller="galleriesCtrl">
    <h3>Galerie</h3>
    <table data-ng-init="loadGalleries()">
        <thead>
        <tr>
            <th>nazwa galerii</th>
            <th>akcje</th>
        </tr>
        </thead>
        <tbody>
        <tr data-ng-repeat="g in galleries">
            <td colspan="2" data-ng-show="g.id === editedGalleryId">
                <form class="form-inline" novalidate>
                    <input class="form-control" type="text" data-ng-model="g.name"/>
                    <input type="submit" class="btn btn-default" data-ng-click="saveChanges($index)" value="zapisz"/>
                </form>
            </td>
            <td data-ng-hide="g.id === editedGalleryId">
                <a href="#/admin/galleries/{{g.id}}">{{g.name}}</a>
            </td>
            <td data-ng-hide="g.id === editedGalleryId">
                <a href="" title="edytuj" data-ng-click="editGallery(g.id)">
                    <span class="glyphicon glyphicon-pencil"></span>
                </a>
                <a href="" title="usuń" data-ng-click="deleteGallery(g.id)">
                    <span class="glyphicon glyphicon-trash"></span>
                </a>
            </td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <td colspan="2">
                <form class="form-inline" novalidate id="newGallery" data-ng-submit="addGallery()">
                    <input type="text" data-ng-model="newGallery" class="form-control" placeholder="nowa galeria"/>
                    <button
                        type="submit" form="newGallery"
                        class="btn btn-default"
                        data-ng-disabled="buttonValue != defaultButtonValue"
                        data-ng-bind-html="buttonValue">
                    </button>
                </form>
            </td>
        </tr>
        </tfoot>
    </table>
</div>

<div class="col-md-6" data-uploader="uploader" data-filters="queueLimit, customFilter">
    <div>
        <h3>Dodaj zdjęcia</h3>

        <div class="well drop-zone" data-nv-file-drop="" data-nv-file-over="" data-uploader="uploader">
            <p>przeciągnij plik tutaj</p>

            <p>lub</p>
            <label for="images" class="btn btn-default">wybierz plik</label>
            <input id="images" type="file" data-nv-file-select="" data-uploader="uploader" multiple accept="image/*"/>
        </div>
    </div>
    <div>
        <div data-ng-repeat="item in uploader.queue">
            <div data-ng-hide="item.src">
                <strong>{{ item.file.name}}</strong>

                <div class="row">
                    <div class="col-md-10">
                        <div class="progress">
                            <div class="progress-bar" role="progressbar"
                                 data-ng-style="{ 'width': item.progress + '%' }"></div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        {{item.progress}}%
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</article>

<footer data-ng-include data-src="'partials/partials/footer.html'"></footer>
